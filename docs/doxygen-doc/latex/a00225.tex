\hypertarget{a00225}{}\section{Topology differences}
\label{a00225}\index{Topology differences@{Topology differences}}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
union \hyperlink{a00334}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+u}
\item 
union \hyperlink{a00350}{hwloc\+\_\+topology\+\_\+diff\+\_\+u}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \hyperlink{a00225_ga86f044210b0a9e9fa83acbdbbf7e05fd}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e} \hyperlink{a00225_ga5f2dd099de2cacdc0d0d4858154b971a}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+t}
\item 
typedef enum \hyperlink{a00225_ga38b28b7423b85a3321e6d0062d5f83d0}{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e} \hyperlink{a00225_ga4b86adb00c8b2d09ebc4ef8f3bfd92b2}{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+t}
\item 
typedef union \hyperlink{a00350}{hwloc\+\_\+topology\+\_\+diff\+\_\+u} $\ast$ \hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{a00225_ga86f044210b0a9e9fa83acbdbbf7e05fd}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e} \{ \hyperlink{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fdabc7f0c7ed0b6864e902f4b70f2c7bc94}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+S\+I\+ZE}, 
\hyperlink{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fda94a8f37c51d62d15ac6192665dd49310}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME}, 
\hyperlink{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fda63430bf932434bc456282f636d39c2c2}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+I\+N\+FO}
 \}
\item 
enum \hyperlink{a00225_ga38b28b7423b85a3321e6d0062d5f83d0}{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e} \{ \hyperlink{a00225_gga38b28b7423b85a3321e6d0062d5f83d0accbcaee230f79989debb284c8626f0c0}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+TR}, 
\hyperlink{a00225_gga38b28b7423b85a3321e6d0062d5f83d0a3dc01fdeff355efe3fb2516bb454a147}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX}
 \}
\item 
enum \hyperlink{a00225_gada4c1273ce020afaf02b649496f7edf5}{hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e} \{ \hyperlink{a00225_ggada4c1273ce020afaf02b649496f7edf5a821a160512d67ea0dd05dab873d2fc54}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+A\+P\+P\+L\+Y\+\_\+\+R\+E\+V\+E\+R\+SE}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{a00225_ga8a1754f69fbb31364ea3ea2c39827c9f}{hwloc\+\_\+topology\+\_\+diff\+\_\+build} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology, \hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} newtopology, unsigned long flags, \hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} $\ast$diff)
\item 
int \hyperlink{a00225_gae7b350d7e7478a4c6047b08aa6544f40}{hwloc\+\_\+topology\+\_\+diff\+\_\+apply} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology, \hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} diff, unsigned long flags)
\item 
int \hyperlink{a00225_ga5dcff18f80583ac6505a94ba2877fd1b}{hwloc\+\_\+topology\+\_\+diff\+\_\+destroy} (\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} diff)
\item 
int \hyperlink{a00225_ga2cd902ce8766e90d4f2523a8e87640e9}{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xml} (const char $\ast$xmlpath, \hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} $\ast$diff, char $\ast$$\ast$refname)
\item 
int \hyperlink{a00225_ga8a14dd7d01efbdd97af7fe85e8b84b20}{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xml} (\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} diff, const char $\ast$refname, const char $\ast$xmlpath)
\item 
int \hyperlink{a00225_gad693810a5c51628529b9dd56f040fb81}{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xmlbuffer} (const char $\ast$xmlbuffer, int buflen, \hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} $\ast$diff, char $\ast$$\ast$refname)
\item 
int \hyperlink{a00225_gaa2f0918df60c1c4a0bef9411f7d92a13}{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xmlbuffer} (\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} diff, const char $\ast$refname, char $\ast$$\ast$xmlbuffer, int $\ast$buflen)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Applications that manipulate many similar topologies, for instance one for each node of a homogeneous cluster, may want to compress topologies to reduce the memory footprint.

This file offers a way to manipulate the difference between topologies and export/import it to/from X\+ML. Compression may therefore be achieved by storing one topology entirely while the others are only described by their differences with the former. The actual topology can be reconstructed when actually needed by applying the precomputed difference to the reference topology.

This interface targets very similar nodes. Only very simple differences between topologies are actually supported, for instance a change in the memory size, the name of the object, or some info attribute. More complex differences such as adding or removing objects cannot be represented in the difference structures and therefore return errors. Differences between object sets or topology-\/wide allowed sets, cannot be represented either.

It means that there is no need to apply the difference when looking at the tree organization (how many levels, how many objects per level, what kind of objects, C\+PU and node sets, etc) and when binding to objects. However the difference must be applied when looking at object attributes such as the name, the memory size or info attributes. 

\subsection{Typedef Documentation}
\mbox{\Hypertarget{a00225_ga5f2dd099de2cacdc0d0d4858154b971a}\label{a00225_ga5f2dd099de2cacdc0d0d4858154b971a}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+t@{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+t}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+t@{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+t}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+t}{hwloc\_topology\_diff\_obj\_attr\_type\_t}}
{\footnotesize\ttfamily typedef enum \hyperlink{a00225_ga86f044210b0a9e9fa83acbdbbf7e05fd}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e}  \hyperlink{a00225_ga5f2dd099de2cacdc0d0d4858154b971a}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+t}}



Type of one object attribute difference. 

\mbox{\Hypertarget{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}\label{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+t@{hwloc\+\_\+topology\+\_\+diff\+\_\+t}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+t@{hwloc\+\_\+topology\+\_\+diff\+\_\+t}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+t}{hwloc\_topology\_diff\_t}}
{\footnotesize\ttfamily typedef union \hyperlink{a00350}{hwloc\+\_\+topology\+\_\+diff\+\_\+u} $\ast$  \hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t}}



One element of a difference list between two topologies. 

\mbox{\Hypertarget{a00225_ga4b86adb00c8b2d09ebc4ef8f3bfd92b2}\label{a00225_ga4b86adb00c8b2d09ebc4ef8f3bfd92b2}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+t@{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+t}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+t@{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+t}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+t}{hwloc\_topology\_diff\_type\_t}}
{\footnotesize\ttfamily typedef enum \hyperlink{a00225_ga38b28b7423b85a3321e6d0062d5f83d0}{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e}  \hyperlink{a00225_ga4b86adb00c8b2d09ebc4ef8f3bfd92b2}{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+t}}



Type of one element of a difference list. 



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{a00225_gada4c1273ce020afaf02b649496f7edf5}\label{a00225_gada4c1273ce020afaf02b649496f7edf5}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e@{hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e@{hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e}{hwloc\_topology\_diff\_apply\_flags\_e}}
{\footnotesize\ttfamily enum \hyperlink{a00225_gada4c1273ce020afaf02b649496f7edf5}{hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e}}



Flags to be given to \hyperlink{a00225_gae7b350d7e7478a4c6047b08aa6544f40}{hwloc\+\_\+topology\+\_\+diff\+\_\+apply()}. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+A\+P\+P\+L\+Y\+\_\+\+R\+E\+V\+E\+R\+SE@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+A\+P\+P\+L\+Y\+\_\+\+R\+E\+V\+E\+R\+SE}!Topology differences@{Topology differences}}\index{Topology differences@{Topology differences}!H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+A\+P\+P\+L\+Y\+\_\+\+R\+E\+V\+E\+R\+SE@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+A\+P\+P\+L\+Y\+\_\+\+R\+E\+V\+E\+R\+SE}}}\mbox{\Hypertarget{a00225_ggada4c1273ce020afaf02b649496f7edf5a821a160512d67ea0dd05dab873d2fc54}\label{a00225_ggada4c1273ce020afaf02b649496f7edf5a821a160512d67ea0dd05dab873d2fc54}} 
H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+A\+P\+P\+L\+Y\+\_\+\+R\+E\+V\+E\+R\+SE&Apply topology diff in reverse direction. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{a00225_ga86f044210b0a9e9fa83acbdbbf7e05fd}\label{a00225_ga86f044210b0a9e9fa83acbdbbf7e05fd}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e@{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e@{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e}{hwloc\_topology\_diff\_obj\_attr\_type\_e}}
{\footnotesize\ttfamily enum \hyperlink{a00225_ga86f044210b0a9e9fa83acbdbbf7e05fd}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+type\+\_\+e}}



Type of one object attribute difference. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+S\+I\+ZE@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+S\+I\+ZE}!Topology differences@{Topology differences}}\index{Topology differences@{Topology differences}!H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+S\+I\+ZE@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+S\+I\+ZE}}}\mbox{\Hypertarget{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fdabc7f0c7ed0b6864e902f4b70f2c7bc94}\label{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fdabc7f0c7ed0b6864e902f4b70f2c7bc94}} 
H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+S\+I\+ZE&The object local memory is modified. The union is a \hyperlink{a00342}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+u\+::hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+uint64\+\_\+s} (and the index field is ignored). \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME}!Topology differences@{Topology differences}}\index{Topology differences@{Topology differences}!H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME}}}\mbox{\Hypertarget{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fda94a8f37c51d62d15ac6192665dd49310}\label{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fda94a8f37c51d62d15ac6192665dd49310}} 
H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+ME&The object name is modified. The union is a \hyperlink{a00346}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+u\+::hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+string\+\_\+s} (and the name field is ignored). \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+I\+N\+FO@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+I\+N\+FO}!Topology differences@{Topology differences}}\index{Topology differences@{Topology differences}!H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+I\+N\+FO@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+I\+N\+FO}}}\mbox{\Hypertarget{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fda63430bf932434bc456282f636d39c2c2}\label{a00225_gga86f044210b0a9e9fa83acbdbbf7e05fda63430bf932434bc456282f636d39c2c2}} 
H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+T\+R\+\_\+\+I\+N\+FO&the value of an info attribute is modified. The union is a \hyperlink{a00346}{hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+u\+::hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+string\+\_\+s}. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{a00225_ga38b28b7423b85a3321e6d0062d5f83d0}\label{a00225_ga38b28b7423b85a3321e6d0062d5f83d0}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e@{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e@{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e}{hwloc\_topology\_diff\_type\_e}}
{\footnotesize\ttfamily enum \hyperlink{a00225_ga38b28b7423b85a3321e6d0062d5f83d0}{hwloc\+\_\+topology\+\_\+diff\+\_\+type\+\_\+e}}



Type of one element of a difference list. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+TR@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+TR}!Topology differences@{Topology differences}}\index{Topology differences@{Topology differences}!H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+TR@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+TR}}}\mbox{\Hypertarget{a00225_gga38b28b7423b85a3321e6d0062d5f83d0accbcaee230f79989debb284c8626f0c0}\label{a00225_gga38b28b7423b85a3321e6d0062d5f83d0accbcaee230f79989debb284c8626f0c0}} 
H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+O\+B\+J\+\_\+\+A\+T\+TR&An object attribute was changed. The union is a \hyperlink{a00358}{hwloc\+\_\+topology\+\_\+diff\+\_\+u\+::hwloc\+\_\+topology\+\_\+diff\+\_\+obj\+\_\+attr\+\_\+s}. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX}!Topology differences@{Topology differences}}\index{Topology differences@{Topology differences}!H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX@{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX}}}\mbox{\Hypertarget{a00225_gga38b28b7423b85a3321e6d0062d5f83d0a3dc01fdeff355efe3fb2516bb454a147}\label{a00225_gga38b28b7423b85a3321e6d0062d5f83d0a3dc01fdeff355efe3fb2516bb454a147}} 
H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX&The difference is too complex, it cannot be represented. The difference below this object has not been checked. \hyperlink{a00225_ga8a1754f69fbb31364ea3ea2c39827c9f}{hwloc\+\_\+topology\+\_\+diff\+\_\+build()} will return 1. The union is a \hyperlink{a00362}{hwloc\+\_\+topology\+\_\+diff\+\_\+u\+::hwloc\+\_\+topology\+\_\+diff\+\_\+too\+\_\+complex\+\_\+s}. \\
\hline

\end{DoxyEnumFields}


\subsection{Function Documentation}
\mbox{\Hypertarget{a00225_gae7b350d7e7478a4c6047b08aa6544f40}\label{a00225_gae7b350d7e7478a4c6047b08aa6544f40}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+apply@{hwloc\+\_\+topology\+\_\+diff\+\_\+apply}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+apply@{hwloc\+\_\+topology\+\_\+diff\+\_\+apply}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+apply()}{hwloc\_topology\_diff\_apply()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+diff\+\_\+apply (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology,  }\item[{\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t}}]{diff,  }\item[{unsigned long}]{flags }\end{DoxyParamCaption})}



Apply a topology diff to an existing topology. 

{\ttfamily flags} is an OR\textquotesingle{}ed set of \hyperlink{a00225_gada4c1273ce020afaf02b649496f7edf5}{hwloc\+\_\+topology\+\_\+diff\+\_\+apply\+\_\+flags\+\_\+e}.

The new topology is modified in place. \hyperlink{a00186_ga62a161fc5e6f120344dc69a7bee4e587}{hwloc\+\_\+topology\+\_\+dup()} may be used to duplicate it before patching.

If the difference cannot be applied entirely, all previous applied elements are unapplied before returning.

\begin{DoxyReturn}{Returns}
0 on success.

-\/N if applying the difference failed while trying to apply the N-\/th part of the difference. For instance -\/1 is returned if the very first difference element could not be applied. 
\end{DoxyReturn}
\mbox{\Hypertarget{a00225_ga8a1754f69fbb31364ea3ea2c39827c9f}\label{a00225_ga8a1754f69fbb31364ea3ea2c39827c9f}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+build@{hwloc\+\_\+topology\+\_\+diff\+\_\+build}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+build@{hwloc\+\_\+topology\+\_\+diff\+\_\+build}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+build()}{hwloc\_topology\_diff\_build()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+diff\+\_\+build (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology,  }\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{newtopology,  }\item[{unsigned long}]{flags,  }\item[{\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} $\ast$}]{diff }\end{DoxyParamCaption})}



Compute the difference between 2 topologies. 

The difference is stored as a list of \hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} entries starting at {\ttfamily diff}. It is computed by doing a depth-\/first traversal of both topology trees simultaneously.

If the difference between 2 objects is too complex to be represented (for instance if some objects have different types, or different numbers of children), a special diff entry of type \hyperlink{a00225_gga38b28b7423b85a3321e6d0062d5f83d0a3dc01fdeff355efe3fb2516bb454a147}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX} is queued. The computation of the diff does not continue below these objects. So each such diff entry means that the difference between two subtrees could not be computed.

\begin{DoxyReturn}{Returns}
0 if the difference can be represented properly.

0 with {\ttfamily diff} pointing to N\+U\+LL if there is no difference between the topologies.

1 if the difference is too complex (see above). Some entries in the list will be of type \hyperlink{a00225_gga38b28b7423b85a3321e6d0062d5f83d0a3dc01fdeff355efe3fb2516bb454a147}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX}.

-\/1 on any other error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
{\ttfamily flags} is currently not used. It should be 0.

The output diff has to be freed with \hyperlink{a00225_ga5dcff18f80583ac6505a94ba2877fd1b}{hwloc\+\_\+topology\+\_\+diff\+\_\+destroy()}.

The output diff can only be exported to X\+ML or passed to \hyperlink{a00225_gae7b350d7e7478a4c6047b08aa6544f40}{hwloc\+\_\+topology\+\_\+diff\+\_\+apply()} if 0 was returned, i.\+e. if no entry of type \hyperlink{a00225_gga38b28b7423b85a3321e6d0062d5f83d0a3dc01fdeff355efe3fb2516bb454a147}{H\+W\+L\+O\+C\+\_\+\+T\+O\+P\+O\+L\+O\+G\+Y\+\_\+\+D\+I\+F\+F\+\_\+\+T\+O\+O\+\_\+\+C\+O\+M\+P\+L\+EX} is listed.

The output diff may be modified by removing some entries from the list. The removed entries should be freed by passing them to to \hyperlink{a00225_ga5dcff18f80583ac6505a94ba2877fd1b}{hwloc\+\_\+topology\+\_\+diff\+\_\+destroy()} (possible as another list). 
\end{DoxyNote}
\mbox{\Hypertarget{a00225_ga5dcff18f80583ac6505a94ba2877fd1b}\label{a00225_ga5dcff18f80583ac6505a94ba2877fd1b}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+destroy@{hwloc\+\_\+topology\+\_\+diff\+\_\+destroy}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+destroy@{hwloc\+\_\+topology\+\_\+diff\+\_\+destroy}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+destroy()}{hwloc\_topology\_diff\_destroy()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+diff\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t}}]{diff }\end{DoxyParamCaption})}



Destroy a list of topology differences. 

\mbox{\Hypertarget{a00225_ga8a14dd7d01efbdd97af7fe85e8b84b20}\label{a00225_ga8a14dd7d01efbdd97af7fe85e8b84b20}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xml@{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xml}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xml@{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xml}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xml()}{hwloc\_topology\_diff\_export\_xml()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xml (\begin{DoxyParamCaption}\item[{\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t}}]{diff,  }\item[{const char $\ast$}]{refname,  }\item[{const char $\ast$}]{xmlpath }\end{DoxyParamCaption})}



Export a list of topology differences to a X\+ML file. 

If not {\ttfamily N\+U\+LL}, {\ttfamily refname} defines an identifier string for the reference topology which was used as a base when computing this difference. This identifier is usually the name of the other X\+ML file that contains the reference topology. This attribute is given back when reading the diff from X\+ML. \mbox{\Hypertarget{a00225_gaa2f0918df60c1c4a0bef9411f7d92a13}\label{a00225_gaa2f0918df60c1c4a0bef9411f7d92a13}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xmlbuffer@{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xmlbuffer}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xmlbuffer@{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xmlbuffer}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xmlbuffer()}{hwloc\_topology\_diff\_export\_xmlbuffer()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+diff\+\_\+export\+\_\+xmlbuffer (\begin{DoxyParamCaption}\item[{\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t}}]{diff,  }\item[{const char $\ast$}]{refname,  }\item[{char $\ast$$\ast$}]{xmlbuffer,  }\item[{int $\ast$}]{buflen }\end{DoxyParamCaption})}



Export a list of topology differences to a X\+ML buffer. 

If not {\ttfamily N\+U\+LL}, {\ttfamily refname} defines an identifier string for the reference topology which was used as a base when computing this difference. This identifier is usually the name of the other X\+ML file that contains the reference topology. This attribute is given back when reading the diff from X\+ML.

The returned buffer ends with a \textbackslash{}0 that is included in the returned length.

\begin{DoxyNote}{Note}
The X\+ML buffer should later be freed with \hyperlink{a00206_ga293e4a6489f15fd16ad22a5734561cf1}{hwloc\+\_\+free\+\_\+xmlbuffer()}. 
\end{DoxyNote}
\mbox{\Hypertarget{a00225_ga2cd902ce8766e90d4f2523a8e87640e9}\label{a00225_ga2cd902ce8766e90d4f2523a8e87640e9}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xml@{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xml}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xml@{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xml}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xml()}{hwloc\_topology\_diff\_load\_xml()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xml (\begin{DoxyParamCaption}\item[{const char $\ast$}]{xmlpath,  }\item[{\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} $\ast$}]{diff,  }\item[{char $\ast$$\ast$}]{refname }\end{DoxyParamCaption})}



Load a list of topology differences from a X\+ML file. 

If not {\ttfamily N\+U\+LL}, {\ttfamily refname} will be filled with the identifier string of the reference topology for the difference file, if any was specified in the X\+ML file. This identifier is usually the name of the other X\+ML file that contains the reference topology.

\begin{DoxyNote}{Note}
the pointer returned in refname should later be freed by the caller. 
\end{DoxyNote}
\mbox{\Hypertarget{a00225_gad693810a5c51628529b9dd56f040fb81}\label{a00225_gad693810a5c51628529b9dd56f040fb81}} 
\index{Topology differences@{Topology differences}!hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xmlbuffer@{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xmlbuffer}}
\index{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xmlbuffer@{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xmlbuffer}!Topology differences@{Topology differences}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xmlbuffer()}{hwloc\_topology\_diff\_load\_xmlbuffer()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+diff\+\_\+load\+\_\+xmlbuffer (\begin{DoxyParamCaption}\item[{const char $\ast$}]{xmlbuffer,  }\item[{int}]{buflen,  }\item[{\hyperlink{a00225_ga2cf1b17332fe5d95f2198f6340cfd288}{hwloc\+\_\+topology\+\_\+diff\+\_\+t} $\ast$}]{diff,  }\item[{char $\ast$$\ast$}]{refname }\end{DoxyParamCaption})}



Load a list of topology differences from a X\+ML buffer. 

If not {\ttfamily N\+U\+LL}, {\ttfamily refname} will be filled with the identifier string of the reference topology for the difference file, if any was specified in the X\+ML file. This identifier is usually the name of the other X\+ML file that contains the reference topology.

\begin{DoxyNote}{Note}
the pointer returned in refname should later be freed by the caller. 
\end{DoxyNote}
