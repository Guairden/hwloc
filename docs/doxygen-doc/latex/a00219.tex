\hypertarget{a00219}{}\section{Interoperability with the C\+U\+DA Driver A\+PI}
\label{a00219}\index{Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{a00219_ga1084285e8ff8b7df91c28917637481c6}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pci\+\_\+ids} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology, C\+Udevice cudevice, int $\ast$domain, int $\ast$bus, int $\ast$dev)
\item 
static int \hyperlink{a00219_gaec41c6b4dc3361156beb7dea2a74f5a3}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology, C\+Udevice cudevice, \hyperlink{a00183_ga4bbf39b68b6f568fb92739e7c0ea7801}{hwloc\+\_\+cpuset\+\_\+t} set)
\item 
static \hyperlink{a00185_ga79b8ab56877ef99ac59b833203391c7d}{hwloc\+\_\+obj\+\_\+t} \hyperlink{a00219_ga11fed607fa404e29e8da010f3ec128e4}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pcidev} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology, C\+Udevice cudevice)
\item 
static \hyperlink{a00185_ga79b8ab56877ef99ac59b833203391c7d}{hwloc\+\_\+obj\+\_\+t} \hyperlink{a00219_ga252cb72175f1a2d682f883a0add80a66}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology, C\+Udevice cudevice)
\item 
static \hyperlink{a00185_ga79b8ab56877ef99ac59b833203391c7d}{hwloc\+\_\+obj\+\_\+t} \hyperlink{a00219_ga12ee892994ed037e8f64bbffda02cf2e}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology, unsigned idx)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This interface offers ways to retrieve topology information about C\+U\+DA devices when using the C\+U\+DA Driver A\+PI. 

\subsection{Function Documentation}
\mbox{\Hypertarget{a00219_gaec41c6b4dc3361156beb7dea2a74f5a3}\label{a00219_gaec41c6b4dc3361156beb7dea2a74f5a3}} 
\index{Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}!hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset}}
\index{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset}!Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}}
\subsubsection{\texorpdfstring{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset()}{hwloc\_cuda\_get\_device\_cpuset()}}
{\footnotesize\ttfamily static int hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology,  }\item[{C\+Udevice}]{cudevice,  }\item[{\hyperlink{a00183_ga4bbf39b68b6f568fb92739e7c0ea7801}{hwloc\+\_\+cpuset\+\_\+t}}]{set }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Get the C\+PU set of processors that are physically close to device {\ttfamily cudevice}. 

Return the C\+PU set describing the locality of the C\+U\+DA device {\ttfamily cudevice}.

Topology {\ttfamily topology} and device {\ttfamily cudevice} must match the local machine. I/O devices detection and the C\+U\+DA component are not needed in the topology.

The function only returns the locality of the device. If more information about the device is needed, OS objects should be used instead, see \hyperlink{a00219_ga252cb72175f1a2d682f883a0add80a66}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev()} and \hyperlink{a00219_ga12ee892994ed037e8f64bbffda02cf2e}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index()}.

This function is currently only implemented in a meaningful way for Linux; other systems will simply get a full cpuset. \mbox{\Hypertarget{a00219_ga252cb72175f1a2d682f883a0add80a66}\label{a00219_ga252cb72175f1a2d682f883a0add80a66}} 
\index{Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}!hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev}}
\index{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev}!Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}}
\subsubsection{\texorpdfstring{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev()}{hwloc\_cuda\_get\_device\_osdev()}}
{\footnotesize\ttfamily static \hyperlink{a00185_ga79b8ab56877ef99ac59b833203391c7d}{hwloc\+\_\+obj\+\_\+t} hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology,  }\item[{C\+Udevice}]{cudevice }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Get the hwloc OS device object corresponding to C\+U\+DA device {\ttfamily cudevice}. 

Return the hwloc OS device object that describes the given C\+U\+DA device {\ttfamily cudevice}. Return N\+U\+LL if there is none.

Topology {\ttfamily topology} and device {\ttfamily cudevice} must match the local machine. I/O devices detection and the C\+U\+DA component must be enabled in the topology. If not, the locality of the object may still be found using \hyperlink{a00219_gaec41c6b4dc3361156beb7dea2a74f5a3}{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+cpuset()}.

\begin{DoxyNote}{Note}
This function cannot work if P\+CI devices are filtered out.

The corresponding hwloc P\+CI device may be found by looking at the result parent pointer (unless P\+CI devices are filtered out). 
\end{DoxyNote}
\mbox{\Hypertarget{a00219_ga12ee892994ed037e8f64bbffda02cf2e}\label{a00219_ga12ee892994ed037e8f64bbffda02cf2e}} 
\index{Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}!hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index}}
\index{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index}!Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}}
\subsubsection{\texorpdfstring{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index()}{hwloc\_cuda\_get\_device\_osdev\_by\_index()}}
{\footnotesize\ttfamily static \hyperlink{a00185_ga79b8ab56877ef99ac59b833203391c7d}{hwloc\+\_\+obj\+\_\+t} hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology,  }\item[{unsigned}]{idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Get the hwloc OS device object corresponding to the C\+U\+DA device whose index is {\ttfamily idx}. 

Return the OS device object describing the C\+U\+DA device whose index is {\ttfamily idx}. Return N\+U\+LL if there is none.

The topology {\ttfamily topology} does not necessarily have to match the current machine. For instance the topology may be an X\+ML import of a remote host. I/O devices detection and the C\+U\+DA component must be enabled in the topology.

\begin{DoxyNote}{Note}
The corresponding P\+CI device object can be obtained by looking at the OS device parent object (unless P\+CI devices are filtered out).

This function is identical to \hyperlink{a00220_gac0f3eeaf7712919f298097b1a21307b0}{hwloc\+\_\+cudart\+\_\+get\+\_\+device\+\_\+osdev\+\_\+by\+\_\+index()}. 
\end{DoxyNote}
\mbox{\Hypertarget{a00219_ga1084285e8ff8b7df91c28917637481c6}\label{a00219_ga1084285e8ff8b7df91c28917637481c6}} 
\index{Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}!hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pci\+\_\+ids@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pci\+\_\+ids}}
\index{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pci\+\_\+ids@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pci\+\_\+ids}!Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}}
\subsubsection{\texorpdfstring{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pci\+\_\+ids()}{hwloc\_cuda\_get\_device\_pci\_ids()}}
{\footnotesize\ttfamily static int hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pci\+\_\+ids (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology,  }\item[{C\+Udevice}]{cudevice,  }\item[{int $\ast$}]{domain,  }\item[{int $\ast$}]{bus,  }\item[{int $\ast$}]{dev }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Return the domain, bus and device I\+Ds of the C\+U\+DA device {\ttfamily cudevice}. 

Device {\ttfamily cudevice} must match the local machine. \mbox{\Hypertarget{a00219_ga11fed607fa404e29e8da010f3ec128e4}\label{a00219_ga11fed607fa404e29e8da010f3ec128e4}} 
\index{Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}!hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pcidev@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pcidev}}
\index{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pcidev@{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pcidev}!Interoperability with the C\+U\+D\+A Driver A\+PI@{Interoperability with the C\+U\+D\+A Driver A\+PI}}
\subsubsection{\texorpdfstring{hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pcidev()}{hwloc\_cuda\_get\_device\_pcidev()}}
{\footnotesize\ttfamily static \hyperlink{a00185_ga79b8ab56877ef99ac59b833203391c7d}{hwloc\+\_\+obj\+\_\+t} hwloc\+\_\+cuda\+\_\+get\+\_\+device\+\_\+pcidev (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology,  }\item[{C\+Udevice}]{cudevice }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Get the hwloc P\+CI device object corresponding to the C\+U\+DA device {\ttfamily cudevice}. 

Return the P\+CI device object describing the C\+U\+DA device {\ttfamily cudevice}. Return N\+U\+LL if there is none.

Topology {\ttfamily topology} and device {\ttfamily cudevice} must match the local machine. I/O devices detection must be enabled in topology {\ttfamily topology}. The C\+U\+DA component is not needed in the topology. 