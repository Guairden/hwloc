\hypertarget{a00131_source}{}\section{distances.\+h}
\label{a00131_source}\index{distances.\+h@{distances.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ * Copyright Â© 2010-2020 Inria.  All rights reserved.}
00003 \textcolor{comment}{ * See COPYING in top-level directory.}
00004 \textcolor{comment}{ */}
00005 
00010 \textcolor{preprocessor}{#ifndef HWLOC\_DISTANCES\_H}
00011 \textcolor{preprocessor}{#define HWLOC\_DISTANCES\_H}
00012 
00013 \textcolor{preprocessor}{#ifndef HWLOC\_H}
00014 \textcolor{preprocessor}{#error Please include the main hwloc.h instead}
00015 \textcolor{preprocessor}{#endif}
00016 
00017 
00018 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00019 \textcolor{keyword}{extern} \textcolor{stringliteral}{"C"} \{
00020 \textcolor{preprocessor}{#elif 0}
00021 \}
00022 \textcolor{preprocessor}{#endif}
00023 
00024 
\Hypertarget{a00131_source_l00042}\hyperlink{a00310}{00042} \textcolor{keyword}{struct }\hyperlink{a00310}{hwloc\_distances\_s} \{
\Hypertarget{a00131_source_l00043}\hyperlink{a00310_a4ca2af858cebbce7324ec49903d09474}{00043}   \textcolor{keywordtype}{unsigned} \hyperlink{a00310_a4ca2af858cebbce7324ec49903d09474}{nbobjs};                
\Hypertarget{a00131_source_l00044}\hyperlink{a00310_af1e78b2d628d191fa6cae3fbfe891078}{00044}   \hyperlink{a00238}{hwloc\_obj\_t} *\hyperlink{a00310_af1e78b2d628d191fa6cae3fbfe891078}{objs};             
\Hypertarget{a00131_source_l00049}\hyperlink{a00310_aef9c83cf467da1b1fa4c36493febb3b5}{00049}   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{a00310_aef9c83cf467da1b1fa4c36493febb3b5}{kind};               
\Hypertarget{a00131_source_l00050}\hyperlink{a00310_ae43e19b2c743de05c93d71a30beaca75}{00050}   hwloc\_uint64\_t *\hyperlink{a00310_ae43e19b2c743de05c93d71a30beaca75}{values}; 
00055 \};
00056 
\Hypertarget{a00131_source_l00068}\hyperlink{a00208_gab1bb10d3adb85b52cdc6fe5a7f74f108}{00068} \textcolor{keyword}{enum} \hyperlink{a00208_gab1bb10d3adb85b52cdc6fe5a7f74f108}{hwloc\_distances\_kind\_e} \{
\Hypertarget{a00131_source_l00072}\hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108a90dc38248c8d5392d4dd3e88f391e984}{00072}   \hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108a90dc38248c8d5392d4dd3e88f391e984}{HWLOC\_DISTANCES\_KIND\_FROM\_OS} = (1UL<<0),
\Hypertarget{a00131_source_l00076}\hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108a0148d7f9be833a04f5a55455437c227b}{00076}   \hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108a0148d7f9be833a04f5a55455437c227b}{HWLOC\_DISTANCES\_KIND\_FROM\_USER} = (1UL<<1),
00077 
\Hypertarget{a00131_source_l00084}\hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108afd6a3503fbc8f7c1a31235373cefc4c6}{00084}   \hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108afd6a3503fbc8f7c1a31235373cefc4c6}{HWLOC\_DISTANCES\_KIND\_MEANS\_LATENCY} = (1UL<<2),
\Hypertarget{a00131_source_l00091}\hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108a41b19f141a3c0ffe85f9affaca4b0293}{00091}   \hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108a41b19f141a3c0ffe85f9affaca4b0293}{HWLOC\_DISTANCES\_KIND\_MEANS\_BANDWIDTH} = (1UL<<3),
00092 
\Hypertarget{a00131_source_l00096}\hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108aa6cf2b6dfcf148b65952f811814efbe1}{00096}   \hyperlink{a00208_ggab1bb10d3adb85b52cdc6fe5a7f74f108aa6cf2b6dfcf148b65952f811814efbe1}{HWLOC\_DISTANCES\_KIND\_HETEROGENEOUS\_TYPES} = (1UL<<4)
00097 \};
00098 
00122 HWLOC\_DECLSPEC \textcolor{keywordtype}{int}
00123 \hyperlink{a00208_ga613e6b2a5d0f06626ee8d0c12fa46691}{hwloc\_distances\_get}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology,
00124                     \textcolor{keywordtype}{unsigned} *nr, \textcolor{keyword}{struct} \hyperlink{a00310}{hwloc\_distances\_s} **distances,
00125                     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{a00310_aef9c83cf467da1b1fa4c36493febb3b5}{kind}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} flags);
00126 
00131 HWLOC\_DECLSPEC \textcolor{keywordtype}{int}
00132 \hyperlink{a00208_ga5d1d35eccfcc2ebcef71a10972ce9b03}{hwloc\_distances\_get\_by\_depth}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, \textcolor{keywordtype}{int} 
      depth,
00133                              \textcolor{keywordtype}{unsigned} *nr, \textcolor{keyword}{struct} \hyperlink{a00310}{hwloc\_distances\_s} **distances,
00134                              \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{a00310_aef9c83cf467da1b1fa4c36493febb3b5}{kind}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} flags);
00135 
00140 HWLOC\_DECLSPEC \textcolor{keywordtype}{int}
00141 \hyperlink{a00208_gaaa6bfbc20072a4f4de132eec859067f6}{hwloc\_distances\_get\_by\_type}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, 
      \hyperlink{a00184_gacd37bb612667dc437d66bfb175a8dc55}{hwloc\_obj\_type\_t} type,
00142                             \textcolor{keywordtype}{unsigned} *nr, \textcolor{keyword}{struct} \hyperlink{a00310}{hwloc\_distances\_s} **distances,
00143                             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{a00310_aef9c83cf467da1b1fa4c36493febb3b5}{kind}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} flags);
00144 
00151 HWLOC\_DECLSPEC \textcolor{keywordtype}{int}
00152 \hyperlink{a00208_gaa457f35b8745ca41ec17797c0d7b20f0}{hwloc\_distances\_get\_by\_name}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, \textcolor{keyword}{const} \textcolor{keywordtype}{
      char} *name,
00153                             \textcolor{keywordtype}{unsigned} *nr, \textcolor{keyword}{struct} \hyperlink{a00310}{hwloc\_distances\_s} **distances,
00154                             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} flags);
00155 
00161 HWLOC\_DECLSPEC \textcolor{keyword}{const} \textcolor{keywordtype}{char} *
00162 \hyperlink{a00208_gaa6f9697028c589cef0458edef5fe273f}{hwloc\_distances\_get\_name}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, \textcolor{keyword}{struct} 
      \hyperlink{a00310}{hwloc\_distances\_s} *distances);
00163 
00168 HWLOC\_DECLSPEC \textcolor{keywordtype}{void}
00169 \hyperlink{a00208_ga1dd78c1f9acd54f26aba0e284e97e51d}{hwloc\_distances\_release}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, \textcolor{keyword}{struct} 
      \hyperlink{a00310}{hwloc\_distances\_s} *distances);
00170 
00183 \textcolor{keyword}{static} \_\_hwloc\_inline \textcolor{keywordtype}{int}
\Hypertarget{a00131_source_l00184}\hyperlink{a00209_gab9e770c7d56c5d6040f26bd1dc8854cd}{00184} \hyperlink{a00209_gab9e770c7d56c5d6040f26bd1dc8854cd}{hwloc\_distances\_obj\_index}(\textcolor{keyword}{struct} \hyperlink{a00310}{hwloc\_distances\_s} *distances, 
      \hyperlink{a00238}{hwloc\_obj\_t} obj)
00185 \{
00186   \textcolor{keywordtype}{unsigned} i;
00187   \textcolor{keywordflow}{for}(i=0; i<distances->\hyperlink{a00310_a4ca2af858cebbce7324ec49903d09474}{nbobjs}; i++)
00188     \textcolor{keywordflow}{if} (distances->\hyperlink{a00310_af1e78b2d628d191fa6cae3fbfe891078}{objs}[i] == obj)
00189       \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int})i;
00190   \textcolor{keywordflow}{return} -1;
00191 \}
00192 
00200 \textcolor{keyword}{static} \_\_hwloc\_inline \textcolor{keywordtype}{int}
\Hypertarget{a00131_source_l00201}\hyperlink{a00209_ga3c665b23056e3269f777b21a67148c82}{00201} \hyperlink{a00209_ga3c665b23056e3269f777b21a67148c82}{hwloc\_distances\_obj\_pair\_values}(\textcolor{keyword}{struct} 
      \hyperlink{a00310}{hwloc\_distances\_s} *distances,
00202                                 \hyperlink{a00238}{hwloc\_obj\_t} obj1, \hyperlink{a00238}{hwloc\_obj\_t} obj2,
00203                                 hwloc\_uint64\_t *value1to2, hwloc\_uint64\_t *value2to1)
00204 \{
00205   \textcolor{keywordtype}{int} i1 = \hyperlink{a00209_gab9e770c7d56c5d6040f26bd1dc8854cd}{hwloc\_distances\_obj\_index}(distances, obj1);
00206   \textcolor{keywordtype}{int} i2 = \hyperlink{a00209_gab9e770c7d56c5d6040f26bd1dc8854cd}{hwloc\_distances\_obj\_index}(distances, obj2);
00207   \textcolor{keywordflow}{if} (i1 < 0 || i2 < 0)
00208     \textcolor{keywordflow}{return} -1;
00209   *value1to2 = distances->\hyperlink{a00310_ae43e19b2c743de05c93d71a30beaca75}{values}[i1 * distances->\hyperlink{a00310_a4ca2af858cebbce7324ec49903d09474}{nbobjs} + i2];
00210   *value2to1 = distances->\hyperlink{a00310_ae43e19b2c743de05c93d71a30beaca75}{values}[i2 * distances->\hyperlink{a00310_a4ca2af858cebbce7324ec49903d09474}{nbobjs} + i1];
00211   \textcolor{keywordflow}{return} 0;
00212 \}
00213 
\Hypertarget{a00131_source_l00223}\hyperlink{a00210_ga22428b6bab271411e3834e6b4ca22e37}{00223} \textcolor{keyword}{enum} \hyperlink{a00210_ga22428b6bab271411e3834e6b4ca22e37}{hwloc\_distances\_add\_flag\_e} \{
\Hypertarget{a00131_source_l00227}\hyperlink{a00210_gga22428b6bab271411e3834e6b4ca22e37a7f6baba797d70538d03c9d13052c62ab}{00227}   \hyperlink{a00210_gga22428b6bab271411e3834e6b4ca22e37a7f6baba797d70538d03c9d13052c62ab}{HWLOC\_DISTANCES\_ADD\_FLAG\_GROUP} = (1UL<<0),
\Hypertarget{a00131_source_l00233}\hyperlink{a00210_gga22428b6bab271411e3834e6b4ca22e37a5233ccf631c3bc53dd5c3e7a5d5c9b77}{00233}   \hyperlink{a00210_gga22428b6bab271411e3834e6b4ca22e37a5233ccf631c3bc53dd5c3e7a5d5c9b77}{HWLOC\_DISTANCES\_ADD\_FLAG\_GROUP\_INACCURATE} = (1UL<<1)
00234 \};
00235 
00250 HWLOC\_DECLSPEC \textcolor{keywordtype}{int} \hyperlink{a00210_gac5a71d96cd86efe31d6f8d282aae3d97}{hwloc\_distances\_add}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology,
00251                                        \textcolor{keywordtype}{unsigned} \hyperlink{a00310_a4ca2af858cebbce7324ec49903d09474}{nbobjs}, \hyperlink{a00238}{hwloc\_obj\_t} *
      \hyperlink{a00310_af1e78b2d628d191fa6cae3fbfe891078}{objs}, hwloc\_uint64\_t *\hyperlink{a00310_ae43e19b2c743de05c93d71a30beaca75}{values},
00252                                        \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{a00310_aef9c83cf467da1b1fa4c36493febb3b5}{kind}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} flags);
00253 
00262 HWLOC\_DECLSPEC \textcolor{keywordtype}{int} \hyperlink{a00210_gac188d9b64d9560255ce5f6d0a20f9c0a}{hwloc\_distances\_remove}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology);
00263 
00268 HWLOC\_DECLSPEC \textcolor{keywordtype}{int} \hyperlink{a00210_gaa642a4c1a21c84f38ae23fca8a27845d}{hwloc\_distances\_remove\_by\_depth}(
      \hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, \textcolor{keywordtype}{int} depth);
00269 
00274 \textcolor{keyword}{static} \_\_hwloc\_inline \textcolor{keywordtype}{int}
\Hypertarget{a00131_source_l00275}\hyperlink{a00210_ga93db53773c96f5b83815e8441e2ebb93}{00275} \hyperlink{a00210_ga93db53773c96f5b83815e8441e2ebb93}{hwloc\_distances\_remove\_by\_type}(\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, 
      \hyperlink{a00184_gacd37bb612667dc437d66bfb175a8dc55}{hwloc\_obj\_type\_t} type)
00276 \{
00277   \textcolor{keywordtype}{int} depth = \hyperlink{a00187_ga8bec782e21be313750da70cf7428b374}{hwloc\_get\_type\_depth}(topology, type);
00278   \textcolor{keywordflow}{if} (depth == \hyperlink{a00187_ggaf4e663cf42bbe20756b849c6293ef575a0565ab92ab72cb0cec91e23003294aad}{HWLOC\_TYPE\_DEPTH\_UNKNOWN} || depth == 
      \hyperlink{a00187_ggaf4e663cf42bbe20756b849c6293ef575ae99465995cacde6c210d5fc2e409798c}{HWLOC\_TYPE\_DEPTH\_MULTIPLE})
00279     \textcolor{keywordflow}{return} 0;
00280   \textcolor{keywordflow}{return} \hyperlink{a00210_gaa642a4c1a21c84f38ae23fca8a27845d}{hwloc\_distances\_remove\_by\_depth}(topology, depth);
00281 \}
00282 
00287 HWLOC\_DECLSPEC \textcolor{keywordtype}{int} \hyperlink{a00210_ga80bbf6f0db9af48c61780dd5152664c2}{hwloc\_distances\_release\_remove}(
      \hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_topology\_t} topology, \textcolor{keyword}{struct} \hyperlink{a00310}{hwloc\_distances\_s} *distances);
00288 
00292 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00293 \} \textcolor{comment}{/* extern "C" */}
00294 \textcolor{preprocessor}{#endif}
00295 
00296 
00297 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HWLOC\_DISTANCES\_H */}\textcolor{preprocessor}{}
\end{DoxyCode}
