\hypertarget{a00186}{}\section{Topology Creation and Destruction}
\label{a00186}\index{Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct hwloc\+\_\+topology $\ast$ \hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{a00186_ga03fd4a16d8b9ee1ffc32b25fd2f6bdfa}{hwloc\+\_\+topology\+\_\+init} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} $\ast$topologyp)
\item 
int \hyperlink{a00186_gabdf58d87ad77f6615fccdfe0535ff826}{hwloc\+\_\+topology\+\_\+load} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology)
\item 
void \hyperlink{a00186_ga9f34a640b6fd28d23699d4d084667b15}{hwloc\+\_\+topology\+\_\+destroy} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology)
\item 
int \hyperlink{a00186_ga62a161fc5e6f120344dc69a7bee4e587}{hwloc\+\_\+topology\+\_\+dup} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} $\ast$newtopology, \hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} oldtopology)
\item 
int \hyperlink{a00186_ga0647ae66458fe68172eb5a320042f870}{hwloc\+\_\+topology\+\_\+abi\+\_\+check} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology)
\item 
void \hyperlink{a00186_gaf6746bc3a558ef1ac8348b4491d091b5}{hwloc\+\_\+topology\+\_\+check} (\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} topology)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Typedef Documentation}
\mbox{\Hypertarget{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}\label{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}} 
\index{Topology Creation and Destruction@{Topology Creation and Destruction}!hwloc\+\_\+topology\+\_\+t@{hwloc\+\_\+topology\+\_\+t}}
\index{hwloc\+\_\+topology\+\_\+t@{hwloc\+\_\+topology\+\_\+t}!Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+t}{hwloc\_topology\_t}}
{\footnotesize\ttfamily typedef struct hwloc\+\_\+topology$\ast$ \hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}



Topology context. 

To be initialized with \hyperlink{a00186_ga03fd4a16d8b9ee1ffc32b25fd2f6bdfa}{hwloc\+\_\+topology\+\_\+init()} and built with \hyperlink{a00186_gabdf58d87ad77f6615fccdfe0535ff826}{hwloc\+\_\+topology\+\_\+load()}. 

\subsection{Function Documentation}
\mbox{\Hypertarget{a00186_ga0647ae66458fe68172eb5a320042f870}\label{a00186_ga0647ae66458fe68172eb5a320042f870}} 
\index{Topology Creation and Destruction@{Topology Creation and Destruction}!hwloc\+\_\+topology\+\_\+abi\+\_\+check@{hwloc\+\_\+topology\+\_\+abi\+\_\+check}}
\index{hwloc\+\_\+topology\+\_\+abi\+\_\+check@{hwloc\+\_\+topology\+\_\+abi\+\_\+check}!Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+abi\+\_\+check()}{hwloc\_topology\_abi\_check()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+abi\+\_\+check (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology }\end{DoxyParamCaption})}



Verify that the topology is compatible with the current hwloc library. 

This is useful when using the same topology structure (in memory) in different libraries that may use different hwloc installations (for instance if one library embeds a specific version of hwloc, while another library uses a default system-\/wide hwloc installation).

If all libraries/programs use the same hwloc installation, this function always returns success.

\begin{DoxyReturn}{Returns}
{\ttfamily 0} on success.

{\ttfamily -\/1} with {\ttfamily errno} set to {\ttfamily E\+I\+N\+V\+AL} if incompatible.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
If sharing between processes with \hyperlink{a00226_ga61b20e346fc76f76420e3a88cc80a671}{hwloc\+\_\+shmem\+\_\+topology\+\_\+write()}, the relevant check is already performed inside \hyperlink{a00226_ga21545bd0f09d9b554c8e60a630e0e629}{hwloc\+\_\+shmem\+\_\+topology\+\_\+adopt()}. 
\end{DoxyNote}
\mbox{\Hypertarget{a00186_gaf6746bc3a558ef1ac8348b4491d091b5}\label{a00186_gaf6746bc3a558ef1ac8348b4491d091b5}} 
\index{Topology Creation and Destruction@{Topology Creation and Destruction}!hwloc\+\_\+topology\+\_\+check@{hwloc\+\_\+topology\+\_\+check}}
\index{hwloc\+\_\+topology\+\_\+check@{hwloc\+\_\+topology\+\_\+check}!Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+check()}{hwloc\_topology\_check()}}
{\footnotesize\ttfamily void hwloc\+\_\+topology\+\_\+check (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology }\end{DoxyParamCaption})}



Run internal checks on a topology structure. 

The program aborts if an inconsistency is detected in the given topology.


\begin{DoxyParams}{Parameters}
{\em topology} & is the topology to be checked\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This routine is only useful to developers.

The input topology should have been previously loaded with \hyperlink{a00186_gabdf58d87ad77f6615fccdfe0535ff826}{hwloc\+\_\+topology\+\_\+load()}. 
\end{DoxyNote}
\mbox{\Hypertarget{a00186_ga9f34a640b6fd28d23699d4d084667b15}\label{a00186_ga9f34a640b6fd28d23699d4d084667b15}} 
\index{Topology Creation and Destruction@{Topology Creation and Destruction}!hwloc\+\_\+topology\+\_\+destroy@{hwloc\+\_\+topology\+\_\+destroy}}
\index{hwloc\+\_\+topology\+\_\+destroy@{hwloc\+\_\+topology\+\_\+destroy}!Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+destroy()}{hwloc\_topology\_destroy()}}
{\footnotesize\ttfamily void hwloc\+\_\+topology\+\_\+destroy (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology }\end{DoxyParamCaption})}



Terminate and free a topology context. 


\begin{DoxyParams}{Parameters}
{\em topology} & is the topology to be freed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{a00186_ga62a161fc5e6f120344dc69a7bee4e587}\label{a00186_ga62a161fc5e6f120344dc69a7bee4e587}} 
\index{Topology Creation and Destruction@{Topology Creation and Destruction}!hwloc\+\_\+topology\+\_\+dup@{hwloc\+\_\+topology\+\_\+dup}}
\index{hwloc\+\_\+topology\+\_\+dup@{hwloc\+\_\+topology\+\_\+dup}!Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+dup()}{hwloc\_topology\_dup()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+dup (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} $\ast$}]{newtopology,  }\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{oldtopology }\end{DoxyParamCaption})}



Duplicate a topology. 

The entire topology structure as well as its objects are duplicated into a new one.

This is useful for keeping a backup while modifying a topology.

\begin{DoxyNote}{Note}
Object userdata is not duplicated since hwloc does not know what it point to. The objects of both old and new topologies will point to the same userdata. 
\end{DoxyNote}
\mbox{\Hypertarget{a00186_ga03fd4a16d8b9ee1ffc32b25fd2f6bdfa}\label{a00186_ga03fd4a16d8b9ee1ffc32b25fd2f6bdfa}} 
\index{Topology Creation and Destruction@{Topology Creation and Destruction}!hwloc\+\_\+topology\+\_\+init@{hwloc\+\_\+topology\+\_\+init}}
\index{hwloc\+\_\+topology\+\_\+init@{hwloc\+\_\+topology\+\_\+init}!Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+init()}{hwloc\_topology\_init()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+init (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t} $\ast$}]{topologyp }\end{DoxyParamCaption})}



Allocate a topology context. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em topologyp} & is assigned a pointer to the new allocated context.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error. 
\end{DoxyReturn}
\mbox{\Hypertarget{a00186_gabdf58d87ad77f6615fccdfe0535ff826}\label{a00186_gabdf58d87ad77f6615fccdfe0535ff826}} 
\index{Topology Creation and Destruction@{Topology Creation and Destruction}!hwloc\+\_\+topology\+\_\+load@{hwloc\+\_\+topology\+\_\+load}}
\index{hwloc\+\_\+topology\+\_\+load@{hwloc\+\_\+topology\+\_\+load}!Topology Creation and Destruction@{Topology Creation and Destruction}}
\subsubsection{\texorpdfstring{hwloc\+\_\+topology\+\_\+load()}{hwloc\_topology\_load()}}
{\footnotesize\ttfamily int hwloc\+\_\+topology\+\_\+load (\begin{DoxyParamCaption}\item[{\hyperlink{a00186_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\+\_\+topology\+\_\+t}}]{topology }\end{DoxyParamCaption})}



Build the actual topology. 

Build the actual topology once initialized with \hyperlink{a00186_ga03fd4a16d8b9ee1ffc32b25fd2f6bdfa}{hwloc\+\_\+topology\+\_\+init()} and tuned with \hyperlink{a00193}{Topology Detection Configuration and Query} and \hyperlink{a00192}{Changing the Source of Topology Discovery} routines. No other routine may be called earlier using this topology context.


\begin{DoxyParams}{Parameters}
{\em topology} & is the topology to be loaded with objects.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
On failure, the topology is reinitialized. It should be either destroyed with \hyperlink{a00186_ga9f34a640b6fd28d23699d4d084667b15}{hwloc\+\_\+topology\+\_\+destroy()} or configured and loaded again.

This function may be called only once per topology.

The binding of the current thread or process may temporarily change during this call but it will be restored before it returns.
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\hyperlink{a00193}{Topology Detection Configuration and Query} and \hyperlink{a00192}{Changing the Source of Topology Discovery} 
\end{DoxySeeAlso}
